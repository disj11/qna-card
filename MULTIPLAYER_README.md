# 🎮 멀티플레이어 가이드

## 개요

P2P(Peer-to-Peer) 기술을 사용하여 친구들과 실시간으로 함께 게임을 즐길 수 있는 멀티플레이어 기능이 추가되었습니다!

## 🌟 주요 기능

### 1. **P2P 연결**
- PeerJS를 사용한 직접적인 브라우저 간 연결
- 서버 없이 작동하는 진정한 P2P 시스템
- 안정적인 STUN 서버를 통한 NAT 통과

### 2. **실시간 채팅**
- 게임 중 자유로운 대화
- 시스템 메시지로 참가자 입장/퇴장 알림
- 타임스탬프가 포함된 메시지

### 3. **이모지 반응**
- 빠른 감정 표현을 위한 이모지 버튼
- 화면에 떠오르는 애니메이션 효과
- 8가지 다양한 이모지 선택

### 4. **참여자 관리**
- 실시간 온라인 상태 표시
- 호스트/참가자 구분
- 준비 상태 확인 시스템

### 5. **턴 기반 시스템**
- 공정한 순서 관리
- 현재 차례 표시
- 자동 턴 넘김

## 🎯 지원 게임

### 1. 질문카드 (멀티플레이어)
**게임 방식:**
- 호스트가 먼저 카드를 선택합니다
- 선택한 카드는 모든 참여자에게 공개됩니다
- 카드를 뒤집은 사람이 다음 차례 버튼을 누르면 다음 사용자가 카드를 선택할 수 있습니다

**특징:**
- 일상편과 연애편 두 가지 카테고리
- 60개의 다양한 질문
- 실시간으로 함께 카드를 뒤집으며 대화

### 2. 진실 혹은 거짓 (멀티플레이어)
**게임 방식:**
- 게임을 시작하면 첫 번째 플레이어가 질문과 정답(true/false)을 입력합니다
- 입력을 완료하면 다른 참가자에게 질문이 공개되고, 참가자들은 정답을 맞춥니다
- 정답을 맞춘 사람의 닉네임이 표시되고, 점수가 부여됩니다
- 다음 버튼을 누르면 다음 사용자가 질문과 정답을 입력하는 방식으로 반복됩니다
- 모든 사용자가 질문을 입력했다면 게임이 종료되고 순위가 노출됩니다

**특징:**
- 각자 창의적인 질문 만들기
- 실시간 점수 집계
- 최종 순위 발표

### 3. 밸런스 게임 (멀티플레이어)
**게임 방식:**
- 게임을 시작하면 질문이 노출됩니다
- 모든 사용자는 A 또는 B 중 더 나은 선택지를 고릅니다
- 모든 사용자가 선택하면 각 선택지의 투표 수와 누가 어떤 항목을 선택했는지 보여줍니다
- 다음 버튼을 누르면 다음 질문이 노출됩니다

**특징:**
- 10개의 재미있는 선택 질문
- 실시간 투표 결과
- 친구들의 선택 비교

## 🚀 시작하기

### 게임 모드 선택

1. 메뉴에서 원하는 게임을 선택하세요
2. **게임 모드 선택 화면**이 나타납니다:
   - **혼자 플레이**: 나만의 속도로 편안하게 게임 즐기기
   - **친구와 함께**: 실시간으로 친구들과 함께 플레이

> 💡 **참고**: 랜덤 미션과 초성 게임은 현재 싱글 플레이어 모드만 지원합니다.

### 방 만들기 (호스트)

1. 게임을 선택하고 **"친구와 함께"** 모드를 선택하세요
2. "방 만들기" 버튼을 클릭하세요
3. 닉네임을 입력하세요
4. 자동으로 생성된 **방 코드**를 친구들에게 공유하세요
   - 예: `ABC123`
   - 복사 버튼을 눌러 간편하게 복사할 수 있습니다
5. 친구들이 입장할 때까지 대기실에서 기다리세요
6. 모든 참가자가 "준비 완료" 상태가 되면 "게임 시작" 버튼을 눌러주세요

### 방 참가하기 (참가자)

1. 호스트와 같은 게임을 선택하고 **"친구와 함께"** 모드를 선택하세요
2. "방 참가하기" 버튼을 클릭하세요
3. 닉네임을 입력하세요
4. 호스트에게 받은 **방 코드**를 입력하세요
   - 방 코드는 대소문자를 구분하지 않습니다
5. "준비 완료" 버튼을 눌러 준비 상태를 알리세요
6. 호스트가 게임을 시작할 때까지 대기하세요

## 💬 채팅 사용하기

### 메시지 보내기
1. 화면 오른쪽 하단의 채팅 아이콘을 클릭하세요
2. 메시지를 입력하고 전송 버튼을 누르세요
3. 모든 참가자가 실시간으로 메시지를 받습니다

### 이모지 반응
1. 채팅창의 이모지 버튼(😊)을 클릭하세요
2. 원하는 이모지를 선택하세요
3. 선택한 이모지가 화면에 떠오르는 애니메이션과 함께 표시됩니다

### 채팅창 최소화
- 채팅창 헤더의 아래 화살표를 클릭하면 최소화됩니다
- 최소화된 상태에서는 우하단에 작은 버튼으로 표시됩니다

## 🔧 기술 스택

### Frontend
- **React 19** - UI 라이브러리
- **TypeScript** - 타입 안정성
- **Tailwind CSS** - 스타일링
- **Vite** - 빠른 개발 서버

### P2P 통신
- **PeerJS** - WebRTC 래퍼 라이브러리
- **WebRTC** - 브라우저 간 실시간 통신
- **STUN Server** - NAT 통과를 위한 공개 서버

## 📱 최적화 및 특징

### 반응형 디자인
- 모바일, 태블릿, 데스크톱 모든 기기 지원
- 터치 스크린 최적화
- 유동적인 레이아웃

### 사용자 경험
- 부드러운 애니메이션
- 직관적인 UI/UX
- 실시간 상태 업데이트
- 네트워크 끊김 감지

### 성능
- 효율적인 상태 관리
- 최소화된 리렌더링
- 메모리 누수 방지
- 자동 연결 재시도

## 🐛 문제 해결

### 연결이 안 될 때
1. **방 코드 확인**: 올바른 6자리 코드를 입력했는지 확인하세요
2. **네트워크 확인**: 인터넷 연결 상태를 확인하세요
3. **브라우저 새로고침**: 페이지를 새로고침한 후 다시 시도하세요
4. **방화벽 확인**: 회사나 학교 네트워크에서는 WebRTC가 차단될 수 있습니다

### 연결이 끊겼을 때
- 시스템이 자동으로 재연결을 시도합니다
- 재연결이 실패하면 메뉴로 돌아가 다시 접속하세요

### 게임이 멈췄을 때
- 다른 참가자의 네트워크 상태를 확인하세요
- 호스트가 나가면 게임이 종료됩니다
- 필요시 새로운 방을 만들어 다시 시작하세요

## 💡 팁 & 요령

### 호스트를 위한 팁
- 안정적인 인터넷 환경에서 호스팅하세요
- 게임 시작 전 모든 참가자가 준비되었는지 확인하세요
- 채팅을 통해 참가자들과 소통하세요
- 방 코드 복사 버튼을 활용하여 빠르게 친구들에게 공유하세요

### 참가자를 위한 팁
- 방 코드는 대소문자를 구분하지 않습니다
- 준비 버튼을 눌러 준비 상태를 알리세요
- 이모지로 빠르게 반응을 표현하세요
- 처음에는 혼자 플레이로 게임을 익힌 후 멀티플레이어를 즐겨보세요

### 게임을 더 재미있게 즐기는 법
- 음성 통화와 함께 플레이하세요 (Discord, Zoom 등)
- 시간 제한을 두고 빠르게 답변하세요
- 정답자에게 작은 벌칙/상을 주세요
- 친구들과 사전에 게임 규칙을 정하세요
- 혼자 플레이와 멀티플레이어를 번갈아 가며 즐겨보세요

## 🔒 개인정보 보호

- **P2P 방식**: 모든 데이터는 사용자 간 직접 전송됩니다
- **서버 미저장**: 채팅, 답변 등 어떤 데이터도 서버에 저장되지 않습니다
- **익명성**: 입력한 닉네임 외에 개인정보는 수집하지 않습니다
- **세션 종료**: 브라우저를 닫으면 모든 데이터가 삭제됩니다

## 🎨 향후 계획

- [x] 게임 모드 선택 기능
- [ ] 음성 채팅 지원
- [ ] 비디오 채팅 지원
- [ ] 커스텀 질문 추가 기능
- [ ] 게임 결과 통계
- [ ] 리플레이 기능
- [ ] 친구 초대 링크 (QR 코드)
- [ ] 방 비밀번호 설정
- [ ] 랜덤 미션 멀티플레이어 지원
- [ ] 초성 게임 멀티플레이어 지원
- [ ] 더 많은 게임 추가

## 📞 문의 및 피드백

버그 리포트, 기능 제안, 또는 질문이 있으시면 GitHub Issues를 통해 알려주세요!

---

**즐거운 게임 되세요! 🎉**

Made with ❤️ by [disj11]